
# openCEM Post processing
A set of tools for visualising data outputted by [openCEM](github.com/openCEMorg/openCEM).

## Dependencies
This code requires Python 3. Dependencies can be installed using pip with the provided requirements file.
```bash
$> pip install -r requirements.txt
```

## Specifying File Paths
Several paths and constants must be properly specified for the code to properly to execute. A file called `config.ini` is provided with the repository. Inside this file are two local paths: `json_path` and `db_path`. For `json_path` users must specify folder which contains the JSON file being processed. For `db_path` users specify a path including a filename for the database file which will be generated from the JSON file. `json_name` specifies the actual file in `json_path` to be processed.

For example:
```
[local]
json_path = C:\Users\HomerS\Documents\myopenCEMresuls
db_path = C:\Users\HomerS\Documents\myopenCEMresuls\scenario01.db
json_name = scenario01.json
```

## Generate a database File
Database files (extension `.db`) are generated by calling the `generate_db.py` script in the base repository directory.
Calling this script will read in the JSON file specified in the configuration and produce a database file with the path specified. This can be a time intensive process and may take up to 20-30 minutes for machines with 8 GB or less RAM.

**NOTE** Ensure before each .db file is generated that another file with the same filename does not exist in the directory being saved to. Otherwise incorrect data will be generated and processed. This can be avoided by deleting or changing the name of the existing file.

### Generating a Report
Once the database file has been generated reports can also be generated. This is done by calling the `autoreporting.py` script contained in the main directory. This will create a folder in the `json_path` directory with the same name as the JSON file. Therein a report and associated files is generated in HTML format. This file is best opened in a web browser.

Depending upon the specific scenario being modelled, not all data may be available to produce all plots and tables within the report. If this is the case, text will instead be generated to describe this.  

## Additional documentation

Additional documentation can be found in the `docs` folder of this repository
